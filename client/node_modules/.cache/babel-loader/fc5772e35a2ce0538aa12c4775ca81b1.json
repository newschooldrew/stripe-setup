{"ast":null,"code":"const createPaymentIntent = options => {\n  return window.fetch(`/create-payment-intent`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(options)\n  }).then(res => {\n    if (res.status === 200) {\n      return res.json();\n    } else {\n      return null;\n    }\n  }).then(data => {\n    if (!data || data.error) {\n      console.log(\"API error:\", {\n        data\n      });\n      throw new Error(\"PaymentIntent API Error\");\n    } else {\n      return data.client_secret;\n    }\n  });\n};\n\nconst getPublicStripeKey = options => {\n  return window.fetch(`/public-key`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(res => {\n    if (res.status === 200) {\n      return res.json();\n    } else {\n      return null;\n    }\n  }).then(data => {\n    if (!data || data.error) {\n      console.log(\"API error:\", {\n        data\n      });\n      throw Error(\"API Error\");\n    } else {\n      return data.publicKey;\n    }\n  });\n};\n\nconst api = {\n  createPaymentIntent,\n  getPublicStripeKey: getPublicStripeKey\n};\nexport default api;","map":{"version":3,"sources":["/Users/andrewperez/Documents/projects/stripe/stripe-setup/client/src/api.js"],"names":["createPaymentIntent","options","window","fetch","method","headers","body","JSON","stringify","then","res","status","json","data","error","console","log","Error","client_secret","getPublicStripeKey","publicKey","api"],"mappings":"AACA,MAAMA,mBAAmB,GAAGC,OAAO,IAAI;AACnC,SAAOC,MAAM,CACVC,KADI,CACG,wBADH,EAC4B;AAC/BC,IAAAA,MAAM,EAAE,MADuB;AAE/BC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFsB;AAK/BC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,OAAf;AALyB,GAD5B,EAQJQ,IARI,CAQCC,GAAG,IAAI;AACX,QAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACD,KAFD,MAEO;AACL,aAAO,IAAP;AACD;AACF,GAdI,EAeJH,IAfI,CAeCI,IAAI,IAAI;AACZ,QAAI,CAACA,IAAD,IAASA,IAAI,CAACC,KAAlB,EAAyB;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B;AAAEH,QAAAA;AAAF,OAA1B;AACA,YAAM,IAAII,KAAJ,CAAU,yBAAV,CAAN;AACD,KAHD,MAGO;AACL,aAAOJ,IAAI,CAACK,aAAZ;AACD;AACF,GAtBI,CAAP;AAuBD,CAxBH;;AA0BE,MAAMC,kBAAkB,GAAGlB,OAAO,IAAI;AACpC,SAAOC,MAAM,CACVC,KADI,CACG,aADH,EACiB;AACpBC,IAAAA,MAAM,EAAE,KADY;AAEpBC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AAFW,GADjB,EAOJI,IAPI,CAOCC,GAAG,IAAI;AACX,QAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACD,KAFD,MAEO;AACL,aAAO,IAAP;AACD;AACF,GAbI,EAcJH,IAdI,CAcCI,IAAI,IAAI;AACZ,QAAI,CAACA,IAAD,IAASA,IAAI,CAACC,KAAlB,EAAyB;AACvBC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0B;AAAEH,QAAAA;AAAF,OAA1B;AACA,YAAMI,KAAK,CAAC,WAAD,CAAX;AACD,KAHD,MAGO;AACL,aAAOJ,IAAI,CAACO,SAAZ;AACD;AACF,GArBI,CAAP;AAsBD,CAvBD;;AAyBA,MAAMC,GAAG,GAAG;AACVrB,EAAAA,mBADU;AAEVmB,EAAAA,kBAAkB,EAAEA;AAFV,CAAZ;AAKA,eAAeE,GAAf","sourcesContent":["  \nconst createPaymentIntent = options => {\n    return window\n      .fetch(`/create-payment-intent`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(options)\n      })\n      .then(res => {\n        if (res.status === 200) {\n          return res.json();\n        } else {\n          return null;\n        }\n      })\n      .then(data => {\n        if (!data || data.error) {\n          console.log(\"API error:\", { data });\n          throw new Error(\"PaymentIntent API Error\");\n        } else {\n          return data.client_secret;\n        }\n      });\n  };\n\n  const getPublicStripeKey = options => {\n    return window\n      .fetch(`/public-key`, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      })\n      .then(res => {\n        if (res.status === 200) {\n          return res.json();\n        } else {\n          return null;\n        }\n      })\n      .then(data => {\n        if (!data || data.error) {\n          console.log(\"API error:\", { data });\n          throw Error(\"API Error\");\n        } else {\n          return data.publicKey;\n        }\n      });\n  };\n\n  const api = {\n    createPaymentIntent,\n    getPublicStripeKey: getPublicStripeKey\n  };\n  \n  export default api;"]},"metadata":{},"sourceType":"module"}